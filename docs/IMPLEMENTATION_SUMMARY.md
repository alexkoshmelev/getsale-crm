# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: BD Accounts, WebSocket –∏ Messaging Services

**–î–∞—Ç–∞:** 2024-12-25 (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 2025-01-21)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üìã –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. BD Accounts Service - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram (GramJS)

#### ‚úÖ TelegramManager –∫–ª–∞—Å—Å
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏**: –°–æ–∑–¥–∞–Ω–∏–µ, —Ö—Ä–∞–Ω–µ–Ω–∏–µ, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram –∫–ª–∏–µ–Ω—Ç–æ–≤
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤**: –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GramJS –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- **Event handlers**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ GramJS —Å–æ–±—ã—Ç–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: Retry –ª–æ–≥–∏–∫–∞ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π (–º–∞–∫—Å 5 –ø–æ–ø—ã—Ç–æ–∫)
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –ë–î

#### ‚úÖ API Endpoints
- `POST /api/bd-accounts/connect` - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞
- `GET /api/bd-accounts/:id/status` - –°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞ (–≤–∫–ª—é—á–∞—è isConnected, lastActivity)
- `GET /api/bd-accounts/:id/dialogs` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∏–∞–ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ GramJS
- `POST /api/bd-accounts/:id/disconnect` - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
- `POST /api/bd-accounts/:id/send` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π endpoint)

#### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∏–∞–ª–æ–≥–æ–≤ (—á–∞—Ç—ã, –≥—Ä—É–ø–ø—ã, –∫–∞–Ω–∞–ª—ã)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ GramJS
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π –≤ –ë–î
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞
- Graceful shutdown

---

### 2. WebSocket Service - Production-ready

#### ‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- –†–µ–∞–ª—å–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ `auth-service`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ user data (id, email, organizationId, role)

#### ‚úÖ Heartbeat/Ping –º–µ—Ö–∞–Ω–∏–∑–º
- Ping –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- Timeout 60 —Å–µ–∫—É–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—Ç–≤–µ—Ç–∞
- Pong –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞

#### ‚úÖ Rate Limiting
- –õ–∏–º–∏—Ç —Å–æ–±—ã—Ç–∏–π: 100 —Å–æ–±—ã—Ç–∏–π –≤ –º–∏–Ω—É—Ç—É –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –õ–∏–º–∏—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π: 100 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –ø–æ –æ–∫–Ω–∞–º –≤—Ä–µ–º–µ–Ω–∏

#### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–Ω–∞—Ç (—Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–º–Ω–∞—Ç–∞–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏ —Å–æ–±—ã—Ç–∏–π

#### ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–æ–º–Ω–∞—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–Ω–∞—Ç—ã
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —á–∞—Ç—ã –∏ BD –∞–∫–∫–∞—É–Ω—Ç—ã
- Broadcast —Å–æ–±—ã—Ç–∏–π –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–Ω–∞—Ç—ã

#### ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Health check —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è—Ö
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π/–æ—Ç–∫–ª—é—á–µ–Ω–∏–π

---

### 3. Messaging Service - –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

#### ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BD Accounts Service
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ GramJS (—á–µ—Ä–µ–∑ BD Accounts Service)
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏

#### ‚úÖ –ù–æ–≤—ã–µ API Endpoints
- `GET /api/messaging/messages/:id` - –î–µ—Ç–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
- `GET /api/messaging/chats` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —á–∞—Ç–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- `POST /api/messaging/chats/:chatId/mark-all-read` - –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º
- `GET /api/messaging/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

#### ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ Endpoints
- `GET /api/messaging/messages` - –ü–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- `POST /api/messaging/send` - –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BD Accounts

#### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —á–∞—Ç–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (unread count, last message)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–Ω–∞–ª–∞–º, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º, —Å—Ç–∞—Ç—É—Å–∞–º
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `telegram` (GramJS) - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram User API
- `socket.io` - –¥–ª—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `ioredis` - –¥–ª—è Redis adapter
- `@socket.io/redis-adapter` - –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### BD Accounts Service
- `DATABASE_URL` - PostgreSQL connection string
- `RABBITMQ_URL` - RabbitMQ connection string

#### WebSocket Service
- `AUTH_SERVICE_URL` - URL auth service –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
- `REDIS_URL` - Redis connection string
- `RABBITMQ_URL` - RabbitMQ connection string
- `CORS_ORIGIN` - –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ origins –¥–ª—è CORS
- `MAX_CONNECTIONS_PER_ORG` - –ú–∞–∫—Å–∏–º—É–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)

#### Messaging Service
- `DATABASE_URL` - PostgreSQL connection string
- `RABBITMQ_URL` - RabbitMQ connection string
- `BD_ACCOUNTS_SERVICE_URL` - URL BD Accounts Service
- `WEBSOCKET_SERVICE_URL` - URL WebSocket Service

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞

```bash
POST /api/bd-accounts/connect
{
  "platform": "telegram",
  "phoneNumber": "+1234567890",
  "apiId": 12345,
  "apiHash": "your_api_hash",
  "phoneCode": "12345" // –∫–æ–¥ –∏–∑ SMS
}
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤

```bash
GET /api/bd-accounts/:accountId/dialogs
```

### 3. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

```bash
POST /api/messaging/send
{
  "contactId": "uuid",
  "channel": "telegram",
  "channelId": "chat_id",
  "content": "Hello!",
  "bdAccountId": "account_uuid"
}
```

### 4. WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```javascript
import { io } from 'socket.io-client';

const socket = io('http://localhost:3004', {
  auth: {
    token: 'your_jwt_token'
  }
});

socket.on('connected', (data) => {
  console.log('Connected:', data);
});

socket.on('ping', (data) => {
  socket.emit('pong');
});

socket.emit('subscribe', 'org:organization-id');
socket.emit('subscribe', 'chat:contact-id');

socket.on('event', (event) => {
  console.log('Event received:', event);
});
```

---

## üìä –°–æ–±—ã—Ç–∏—è

### –ü—É–±–ª–∏–∫—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è
- `MESSAGE_RECEIVED` - –ù–æ–≤–æ–µ –≤—Ö–æ–¥—è—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- `MESSAGE_SENT` - –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
- `BD_ACCOUNT_CONNECTED` - BD –∞–∫–∫–∞—É–Ω—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω
- `BD_ACCOUNT_DISCONNECTED` - BD –∞–∫–∫–∞—É–Ω—Ç –æ—Ç–∫–ª—é—á–µ–Ω

### WebSocket —Å–æ–±—ã—Ç–∏—è
- `connected` - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ
- `ping` - Heartbeat ping
- `event` - –°–æ–±—ã—Ç–∏–µ –æ—Ç —Å–∏—Å—Ç–µ–º—ã
- `subscribed` - –ü–æ–¥–ø–∏—Å–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
- `unsubscribed` - –û—Ç–ø–∏—Å–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞
- `error` - –û—à–∏–±–∫–∞

---

## ‚úÖ Production-ready –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **Error Handling**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
2. **Retry Logic**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
3. **Rate Limiting**: –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
4. **Connection Limits**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
5. **Heartbeat**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
6. **Graceful Shutdown**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
7. **Logging**: –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
8. **Security**: –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–Ω–∞—Ç
9. **Scalability**: Redis adapter –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ê–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ ‚Äî –≤ [NEXT_STEPS_PRIORITY.md](./NEXT_STEPS_PRIORITY.md). –ö—Ä–∞—Ç–∫–æ:

1. **–ü–æ–ª–Ω—ã–µ CRUD** –ø–æ CRM, Pipeline –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º (GET by id, PUT, DELETE, –ø–∞–≥–∏–Ω–∞—Ü–∏—è)
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è** –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (Zod) –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (React Hook Form)
3. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π error handling** –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: rate limiting, Helmet, CORS –≤ API Gateway
5. **Campaign Service**: —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞, CRUD –∫–∞–º–ø–∞–Ω–∏–π, —à–∞–±–ª–æ–Ω—ã, sequences
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: E2E –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å—Ü–µ–Ω–∞—Ä–∏—è–º
7. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –º–µ—Ç—Ä–∏–∫–∏ Prometheus, –¥–∞—à–±–æ—Ä–¥—ã Grafana
8. **Email –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**, MFA, –¥–æ—Ä–∞–±–æ—Ç–∫–∞ AI (approve/reject, –∏—Å—Ç–æ—Ä–∏—è drafts)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GramJS (User API), –∞ –Ω–µ Bot API
- WebSocket —Å–µ—Ä–≤–∏—Å —Ç—Ä–µ–±—É–µ—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ auth-service
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL
- –°–æ–±—ã—Ç–∏—è –ø—É–±–ª–∏–∫—É—é—Ç—Å—è —á–µ—Ä–µ–∑ RabbitMQ –¥–ª—è event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- Redis –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

