# Анализ конкурента: CRMChat (вдохновение для доработок)

**Источники:**
- [Инструменты для поиска лидов в Telegram](https://crmchat.ai/ru/telegram-lead-research) — парсер групп, поиск по ключевым словам
- [Поиск лидов и подготовка базы для рассылки](https://crmchat.ai/ru/help-center/preparing-telegram-prospect-database)
- [Советы и лучшие практики по рассылкам в Telegram](https://crmchat.ai/ru/help-center/telegram-outreach-best-practices)

Дополнительно: [Поиск групп в Telegram по ключевым словам](https://crmchat.ai/ru/telegram-group-finder), [Как парсить Telegram группы](https://crmchat.ai/blog/kak-parsit-telegram-gruppy).

**Второй пакет материалов:**
- [Динамические кампании на основе этапа лида / кастомного поля](https://crmchat.ai/ru/help-center/dynamic-campaigns)
- [Управление рабочим пространством](https://crmchat.ai/ru/help-center/faq-workspace-management)
- [Импорт контактов](https://crmchat.ai/ru/help-center/faq-importing-contacts)
- [Массовая рассылка по групповым чатам Telegram](https://crmchat.ai/ru/help-center/bulk-messages-telegram-groups)
- [Запуск рассылки в Telegram с CRMChat](https://crmchat.ai/ru/help-center/launching-telegram-outreach-sequence)
- [Заметки, напоминания, и работа в команде](https://crmchat.ai/ru/help-center/reminders-notes-collaboration)

---

## 1. Что делает CRMChat (по материалам)

### 1.1 Поиск и исследование лидов в Telegram
- **Поиск групп по ключевым словам** — отраслевые ключевые слова → релевантные группы и чаты.
- **Парсинг участников** — сбор данных участников (юзернеймы, биографии) для персонализации.
- **Лид-генерация** — список потенциальных клиентов из найденных групп для работы в CRM.
- **Техническая часть:** Python (Telethon, Pyrogram), Telegram API; экспорт CSV/JSON; только публичные данные, соблюдение правил Telegram и конфиденциальности, свой API-ключ на my.telegram.org.

### 1.2 Подготовка базы для рассылки
- Подготовка и очистка базы контактов перед рассылкой (по названию статьи).
- Интеграция с CRM для управления собранными лидами.

### 1.3 Лучшие практики по рассылкам
- Рекомендации по холодным рассылкам в Telegram (ограничения, тон, согласие).
- Связка «поиск лидов → подготовка базы → рассылка» в одном продукте.

---

## 2. Сравнение с GetSale CRM

| Возможность | CRMChat | GetSale CRM |
|-------------|---------|-------------|
| **Источники аудитории кампании** | Поиск групп по ключевым словам, парсинг участников, экспорт в CRM | База CRM (фильтры), файл CSV, **группа в Telegram** (только уже синхронизированные чаты из bd_account_sync_chats) |
| **«Группа в Telegram»** | Поиск групп по ключевым словам, парсинг участников (Chrome-расширение / парсер) | Выбор из уже выбранных при синхронизации чатов; контакты по сообщениям в чате (group-sources/contacts) |
| **Поиск групп по ключевым словам** | Есть | Нет |
| **Парсинг участников группы** (юзернеймы, био) | Есть | Нет отдельного парсера; контакты появляются из сообщений в синхронизированных чатах |
| **Последовательности (sequence)** | Есть | Есть (шаги, задержки, «после ответа») |
| **Шаблоны и персонализация** | Есть | Есть ({{contact.first_name}}, {{company.name}}) |
| **Расписание и лимиты** | — | Есть (рабочие часы, дни, sendDelaySeconds) |
| **Создание лида в CRM** | Интеграция с CRM | Есть (при первой отправке / при ответе) |
| **Документация / подсказки** | Help Center, статьи по лучшим практикам | Минимально; можно добавить чеклист перед запуском и раздел «Лучшие практики» |

---

## 3. Что взять и доработать (приоритеты)

### 3.1 Уже есть у нас — усилить подачу
- **Источник «Группа в Telegram»:** уже есть (group-sources, group-sources/contacts). Убедиться, что в UI и в справке явно написано: «Выберите чат из уже синхронизированных» и «Добавьте чаты в BD Accounts → Синхронизация», чтобы сценарий «рассылка по участникам группы» был очевиден.
- **CSV:** загрузка, маппинг по telegram_id/email — уже есть; при необходимости добавить подсказку по формату CSV (колонки telegram_id, email, first_name и т.д.) в UI или в документацию.

### 3.2 Документация и UX (низкий порог)
- **Чеклист перед запуском кампании** (как у конкурента): прогрев аккаунтов, лимиты сообщений в день, opt-out в первом сообщении, спинтакс для разнообразия. Варианты: модалка «Перед запуском» при первом Start или раздел «Перед запуском» в справке/Help.
- **Раздел «Лучшие практики»** в справке или на странице кампании: короткие советы по холодному аутричу в Telegram (не спамить, персонализация, расписание, лимиты). Можно вынести в `docs/OUTREACH_BEST_PRACTICES.md` и дать ссылку из UI.
- **Подсказки в UI** (tooltips / hint): у поля «Откуда брать контакты» — «Из группы: предварительно синхронизируйте нужные чаты в BD Accounts».

### 3.3 Поиск групп по ключевым словам (средний/высокий порог)
- **Идея:** отдельный инструмент или шаг «Найти группы по ключевым словам» (через Telegram API или сторонний поиск), затем выбор групп и добавление их в синхронизацию или в аудиторию кампании.
- **Ограничения:** только публичные группы; лимиты Telegram API; юридические и этические нормы (согласие, антиспам). Требует отдельного дизайна и, возможно, отдельного сервиса/воркера.
- **Бэклог:** «Поиск групп по ключевым словам» — исследование (API Telegram, ограничения), дизайн сценария, оценка.

### 3.4 Парсинг участников группы (средний порог)
- **Идея:** для уже выбранной группы (из sync_chats) — «Загрузить участников» (список участников чата через Telegram API), создание/обновление контактов в CRM и привязка к кампании.
- **Сейчас:** контакты по группе у нас появляются из сообщений (group-sources/contacts — те, кто писал в чате). Полный список участников канала/супергруппы через API (getParticipants и т.п.) мы не вызываем.
- **Бэклог:** «Парсинг участников выбранной группы (список участников чата)» — API Gram.js/Telegram (getParticipants), лимиты, сохранение в контакты и использование в аудитории кампании.

### 3.5 Прочее
- **Мониторинг ключевых слов в чатах** (как LeadScanner) — отдельный продукт; в бэклог как «идея на будущее».
- **Экспорт списка лидов в CSV** из кампании или из CRM — полезно для отчётности и бэкапов; при необходимости добавить в CRM или в кампанию.

---

## 4. Дополнительные материалы CRMChat (второй пакет)

По названиям и типичному содержанию Help Center:

| Материал | О чём (типично) | GetSale CRM |
|----------|------------------|-------------|
| [Динамические кампании](https://crmchat.ai/ru/help-center/dynamic-campaigns) | Кампании, которые автоматически подтягивают лидов по этапу воронки или кастомному полю (новые лиды в стадии X попадают в рассылку без ручного старта) | **Реализовано:** блок «Динамическая кампания» в аудитории (воронка + этапы); события lead.created / lead.stage.changed из pipeline-service; campaign-service добавляет участников в campaign_participants при попадании лида в выбранный этап |
| [Управление рабочим пространством](https://crmchat.ai/ru/help-center/faq-workspace-management) | Настройки воркспейса, участники, роли, биллинг | Есть: настройки воркспейса (owner/admin), команда, роли, передача владения, инвайты |
| [Импорт контактов](https://crmchat.ai/ru/help-center/faq-importing-contacts) | Импорт контактов из CSV в CRM (маппинг полей, обновление/добавление, теги) | **Реализовано:** POST /api/crm/contacts/import (content, hasHeader, mapping); страница CRM → Контакты → кнопка «Импорт», загрузка CSV, маппинг колонок, создание/обновление по email или telegram_id |
| [Массовая рассылка по групповым чатам](https://crmchat.ai/ru/help-center/bulk-messages-telegram-groups) | Отправка одного и того же сообщения в несколько групповых чатов (канал «группа», а не «личка») | **Реализовано:** POST /api/bd-accounts/:id/send-bulk (channelIds, text); в Messaging — кнопка «Рассылка в группы» (иконка Users), выбор аккаунта и групп, ввод текста, отправка с задержкой между чатами |
| [Запуск рассылки в Telegram](https://crmchat.ai/ru/help-center/launching-telegram-outreach-sequence) | Пошаговый запуск sequence: проверки, чеклист, старт | Есть: Запустить / Приостановить / Остановить. Чеклист «Перед запуском» — в наших рекомендациях (модалка/справка) |
| [Заметки, напоминания, команда](https://crmchat.ai/ru/help-center/reminders-notes-collaboration) | Заметки к контакту/сделке, напоминания (сделать звонок, написать), коллаборация в команде | **Реализовано:** таблицы notes и reminders (миграция 20250210120001); API GET/POST /api/crm/contacts|deals/:id/notes и reminders, PATCH/DELETE reminder, DELETE note; в карточке контакта и сделки — блоки «Заметки» и «Напоминания» (добавление, отметка выполненного, удаление). Уведомления при наступлении remind_at — в бэклоге |

**Выводы по второму пакету:**
- **Динамические кампании:** реализованы (воронка + этапы, события лидов, автодобавление в кампанию).
- **Импорт контактов в CRM:** реализован (отдельный endpoint и UI на странице Контактов).
- **Рассылка по групповым чатам:** реализована (send-bulk, UI в Messaging).
- **Заметки и напоминания:** реализованы (БД, API, UI в карточке контакта и сделки). Добавлен виджет «Предстоящие напоминания» на главной дашборда (GET /api/crm/reminders/upcoming). Push/email при наступлении remind_at — возможное расширение.

---

## 5. Связь с другими документами

- **CAMPAIGN_COLD_OUTREACH.md** — механика кампаний, API, лучшие практики (общие).
- **CAMPAIGN_IMPLEMENTATION_STATUS.md** — что реализовано по кампаниям, что в бэклоге.
- **STATE_AND_ROADMAP.md** — общая дорожная карта.

После реализации пунктов из разделов 3 и 4 обновлять этот файл и статус в CAMPAIGN_IMPLEMENTATION_STATUS.

---

## 6. Рекомендуемые следующие шаги

1. **Сделано (низкий порог):**
   - В UI кампании у источника «Группа в Telegram» добавлена подсказка: «Сначала синхронизируйте нужные чаты в BD Accounts, затем выберите группу ниже» (локаль `groupSourceHint`).
   - Модалка «Перед запуском кампании» при первом нажатии «Запустить»: чеклист из 5 пунктов (прогрев, лимиты, opt-out, персонализация, расписание), кнопка «Понятно»; после «Понятно» запуск кампании; флаг в localStorage, чтобы не показывать повторно при следующих запусках.
   - На вкладке «Обзор» страницы кампании — ссылка «Лучшие практики», открывает ту же модалку с чеклистом (без автозапуска).

2. **Краткосрочно:**
   - Реализовать отображение/подгрузку «Лучшие практики» в приложении (страница /help/outreach или блок в настройках кампании).

3. **Бэклог (исследование и оценка):**
   - Поиск групп по ключевым словам (Telegram API, ограничения).
   - Парсинг участников выбранной группы (getParticipants) и добавление их в контакты/аудиторию кампании.
   - **По второму пакету:** динамические кампании (автодобавление по этапу лида/полю); массовый импорт контактов в CRM (CSV → контакты); рассылка одного сообщения в несколько групповых чатов; заметки и напоминания к контакту/сделке.
