# Интернационализация (en / ru)

## Стек

- **i18next** — ядро i18n
- **react-i18next** — хук `useTranslation()` для React
- **i18next-browser-languagedetector** — не используется для выбора языка (язык задаётся только из store)

Язык хранится в Zustand store `getsale-locale` (localStorage) и синхронизируется с i18n в `I18nProvider`.

## Структура

- `locales/en.json`, `locales/ru.json` — один namespace `translation` с вложенными ключами: `common`, `nav`, `theme`, `locale`, `auth`, `dashboard`, `messaging`, `crm`.
- `lib/i18n.ts` — инициализация i18n, fallback `ru`.
- `lib/stores/locale-store.ts` — текущий язык (`en` | `ru`), persist в localStorage.
- `components/I18nProvider.tsx` — при смене `locale` из store вызывает `i18n.changeLanguage(locale)`.
- Переключатель языка — в шапке дашборда справа (кнопки EN / RU).

## Использование в компонентах

```tsx
import { useTranslation } from 'react-i18next';

export default function MyPage() {
  const { t } = useTranslation();
  return <h1>{t('dashboard.title')}</h1>;
}
```

Интерполяция: `t('messaging.minAgo', { count: 5 })` → «5 мин. назад» / «5 min ago».

## Добавление новых строк

1. Добавить ключ в `locales/en.json` и `locales/ru.json` в нужный блок (`auth`, `messaging`, `common` и т.д.).
2. В компоненте использовать `t('block.key')`.

## Переключатель языка

В `DashboardLayout` в правом верхнем углу хедера: блок с кнопками EN и RU. Выбор сохраняется в `getsale-locale` и восстанавливается при следующем заходе.
